<% provide(:title, "A Deck of Cards") %>

<%= stylesheet_link_tag "decks.css" %>

<div class="container">
  <div class="main-content-wrapper">
    <div class="left-panel-wrapper">      
      <div class="deck-owner-info">
	<%= render partial: "shared/user_info", locals: {user: @deck.user, deck: @deck} %>
      </div>
      <div class="deck-tags">
	<h3>Tags</h3>
	<% if current_user.owns_deck?(@deck) %>
	  <a href="#" class="option-edit-tags"><i class="fa fa-pencil"></i></a>
	<% end %>
	<ul class="tags">
	  <li><a href="#">Tag1 good</a></li>
	</ul>
      </div>
    </div>
    <div class="center-content-wrapper">
      <div class="deck-show-header">
	<h1><%= @deck.title %></h1>
	<div class="deck-info-header">
	  <% if !current_user.favoring_deck?(@deck) %>
	    <%= render partial: "shared/favorite_deck_button", locals: {deck: @deck} %>
	  <% else %>
	    <%= render partial: "shared/unfavorite_deck_button", locals: {deck: @deck} %>
	  <% end %>
	  <p>
	    <i class="fa fa-square-o"></i><%= @deck.cards.count%>
	  </p>
	</div>
	<% if current_user.owns_deck?(@deck) %>
	  <div class="deck-options">
	    <ul>
	      <li class="option-add-card">
		<%= link_to request.original_url + "/cards/new" do %>
		  <i class="fa fa-plus"></i>
		<% end %>
	      </li>
	      <li>
		<%= link_to edit_deck_path(@deck) do %>
		  <i class="fa fa-pencil"></i>
		<% end %>
	      </li>
	      <li>
		<%= link_to deck_path(@deck), method: :delete do %>
		  <i class="fa fa-ellipsis-v"></i>
		<% end %>
	      </li>
	    </ul>
	  </div>
	<% end %>
      </div>
      <div class="deck-description">
	<p>
	  <%= @deck.description %>
	</p>
      </div>
      <div class="cards-display-wrapper">
	<% @deck.cards.each do |card| %>
	  <%= render :partial => "shared/card", locals: {card: card, deck: @deck} %>
	<% end %>
      </div>
    </div>
    <div class="right-panel-wrapper">
    </div>
  </div>
</div>
